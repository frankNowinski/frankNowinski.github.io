<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Frank Nowinski</title>
<meta name="description" content="Describe this nonsense.">
<meta name="keywords" content="Jekyll, theme, themes, responsive, blog, modern">



<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Frank Nowinski">
<meta property="og:description" content="Describe this nonsense.">
<meta property="og:url" content="http://franknowinski.github.io/page2/index.html">
<meta property="og:site_name" content="Frank Nowinski">





<link rel="canonical" href="http://franknowinski.github.io/page2/">
<link href="http://franknowinski.github.io/feed.xml" type="application/atom+xml" rel="alternate" title="Frank Nowinski Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://franknowinski.github.io/assets/css/main.css">
<!-- Webfonts -->
<link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="http://franknowinski.github.io/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<!-- <link rel="shortcut icon" href="http://franknowinski.github.io/favicon.ico"> -->
<link rel="shortcut icon" href="http://franknowinski.github.io/images/background-image.jpg">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://franknowinski.github.io/images/background-image.jpg">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://franknowinski.github.io/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://franknowinski.github.io/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://franknowinski.github.io/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://franknowinski.github.io/images/apple-touch-icon-144x144-precomposed.png">



</head>

<body id="post-index" class="feature">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
  <button class="dl-trigger">Open Menu</button>
  <ul class="dl-menu">
    <li><a href="http://franknowinski.github.io/">Home</a></li>
    <li>
      <a href="#">About</a>
      <ul class="dl-submenu">
        <li>
          <img src="http://franknowinski.github.io/images/space.jpg" alt="Frank Nowisnki photo" class="author-photo">
          <h4>Frank Nowisnki</h4>
          <p>My personal blog to express various coding obstacles I've faced on my journey to becoming a Web Developer.</p>
        </li>
        <li><a href="http://franknowinski.github.io/about/"><span class="btn btn-inverse">Learn More</span></a></li>
        <li>
          <a href="mailto:nowinski.frank@gmail.com"><i class="fa fa-fw fa-envelope"></i> Email</a>
        </li>
        
        
        
        
        <li>
          <a href="https://github.com/frankNowinski"><i class="fa fa-fw fa-github"></i> GitHub</a>
        </li>
        
        
        
        
      </ul><!-- /.dl-submenu -->
    </li>
    <li>
      <a href="#">Posts</a>
      <ul class="dl-submenu">
        <li><a href="http://franknowinski.github.io/posts/">All Posts</a></li>
        <li><a href="http://franknowinski.github.io/tags/">All Tags</a></li>
      </ul>
    </li>
    
      
          
      
      <li><a href="http://franknowinski.github.io/theme-setup/" >Theme Setup</a></li>
    
  </ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->


<div class="entry-header">
  
  
    <div class="entry-image">
      <img src="http://franknowinski.github.io/images/stream.jpeg" alt="">
    </div><!-- /.entry-image -->
  
  <div class="header-title">
    <div class="header-title-wrap">
      <h1>Frank Nowinski</h1>
      <h2></h2>
    </div><!-- /.header-title-wrap -->
  </div><!-- /.header-title -->
</div><!-- /.entry-header -->

<div id="main" role="main">
  
<article class="hentry">
  <header>
    


    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2016-01-29T05:44:58-05:00"><a href="http://franknowinski.github.io/using-csv-parse-to-access-stock-data/">January 29, 2016</a></time></span><span class="author vcard"><span class="fn"><a href="http://franknowinski.github.io/about/" title="About Frank Nowisnki">Frank Nowisnki</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~2 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://franknowinski.github.io/using-csv-parse-to-access-stock-data/" rel="bookmark" title="Using CSV.parse to Access Stock Data" itemprop="url">Using CSV.parse to Access Stock Data</a></h1>
    
  </header>
  <div class="entry-content">
    <p>The Yahoo! Finance API makes it remarkably easy to retrieve realtime stock data and store it in a comma separated values (csv) file. But how do you get the values from the csv file into your program? That was the second challenge that I faced as I tried to implement my stock ruby gem.</p>


    
    
    
   <p><a class="btn btn-sm btn-info" href="/using-csv-parse-to-access-stock-data//#read-more" role="button">Read more <i class="fa fa-arrow-circle-right"></i></a>
   </p>
   
    <!-- <p>The Yahoo! Finance API makes it remarkably easy to retrieve realtime stock data and store it in a comma separated values (csv) file. But how do you get the values from the csv file into your program? That was the second challenge that I faced as I tried to implement my stock ruby gem.</p>

<p>Fortunately, this task was made substantially more easy after I discovered that Ruby has a CSV library with specifically defined methods that allow the programmer to easily transfer data from a csv file into their program. Below is a high level overview of the code that I utilized to migrate stock data from a csv file into my gem:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5</pre></td><td class="code"><pre><span class="nb">open</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">csv</span><span class="o">|</span>
  <span class="no">CSV</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">csv</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">row</span><span class="o">|</span>
    <span class="nb">puts</span> <span class="n">row</span>
  <span class="k">end</span>
<span class="k">end</span><span class="w">
</span></pre></td></tr></tbody></table>



With just that code and a correctly assembled URL (see Formatting the URL blog post) I was able to retrieve realtime stock data from the Yahoo Finance API and access it within my program.

However, before I was able to get this code functioning there were a few obstacles I had to overcome. First, I had to require both the 'csv' and 'open-uri' gems in my Gemfile. Next, I had to pass the formatted URL containing the stock(s) the user wanted to look up along with the tags or information they wanted to view into the open-uri module. This returned a csv file that I could now use as an argument within our CSV.parse method.

The CSV.parse method simply goes row by row within the csv file and transfers the data into your program as an array of String objects. Each row is its own array and each value is it's own String object within that array.

I think it's time for an example. Say we requested to view the name and asking price of Apple's and Google's stock. The csv file would look like this:


<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2</pre></td><td class="code"><pre><span class="s2">"Apple Inc."</span><span class="p">,</span> <span class="mi">115</span><span class="o">.</span><span class="mi">46</span>
<span class="s2">"Alphabet Inc."</span><span class="p">,</span> <span class="mi">755</span><span class="o">.</span><span class="mi">97</span><span class="w">
</span></pre></td></tr></tbody></table>


<pre>(Alphabet Inc. is Google's parent company)</pre>

The CSV.parse method would then create a new array for each row of data and separately input each value as it's own String into that array. The final result would be:


<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2</pre></td><td class="code"><pre><span class="p">[</span><span class="err">“</span><span class="no">Apple</span> <span class="no">Inc</span><span class="o">.</span><span class="err">“</span><span class="p">,</span> <span class="err">“</span><span class="mi">115</span><span class="o">.</span><span class="mi">46</span><span class="err">“</span><span class="p">]</span>
<span class="p">[</span><span class="err">“</span><span class="no">Alphabet</span> <span class="no">Inc</span><span class="o">.</span><span class="err">“</span><span class="p">,</span> <span class="err">“</span><span class="mi">755</span><span class="o">.</span><span class="mi">97</span><span class="err">“</span><span class="p">]</span><span class="w">
</span></pre></td></tr></tbody></table>



Now each array is represented as a row in the CSV.parse loop. So, if we wanted to access Apple's name, and we were on the first iteration of row, we would enter <code>row[0]</code> in our loop, or if we wanted to access Apple's price we would enter <code>row[1]</code>. Then on our next iteration of row we would be able to access Alphabet Inc.'s elements.

Thanks to Ruby, the process of transferring data from a csv file to your program is made easy.
</code></pre></div></code></pre></div></code></pre></div>
 -->
  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
      <div class="entry-image-index">
        <a href="http://franknowinski.github.io/formatting-the-url-for-the-yahoo-finance-api/" title="Formatting the URL for the Yahoo Finance API"><img src="http://franknowinski.github.io/images/stocks-photo.jpg" alt="Formatting the URL for the Yahoo Finance API"></a>
      </div><!-- /.entry-image -->
    


    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2016-01-29T04:17:17-05:00"><a href="http://franknowinski.github.io/formatting-the-url-for-the-yahoo-finance-api/">January 29, 2016</a></time></span><span class="author vcard"><span class="fn"><a href="http://franknowinski.github.io/about/" title="About Frank Nowisnki">Frank Nowisnki</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://franknowinski.github.io/formatting-the-url-for-the-yahoo-finance-api/" rel="bookmark" title="Formatting the URL for the Yahoo Finance API" itemprop="url">Formatting the URL for the Yahoo Finance API</a></h1>
    
  </header>
  <div class="entry-content">
    <p>On a mission to create a ruby gem to return realtime stock data to the user, I was confronted with a dilemma: how can I attain stock data from the internet and displaying it in a formatted table within my gem? With the help of Yahoo! Finances incredibly convenient API, this process was made exceptionally easy. If used correctly, this API would return realtime stock data within a csv file—all I had to do was properly assemble the URL.</p>


    
    
    
   <p><a class="btn btn-sm btn-info" href="/formatting-the-url-for-the-yahoo-finance-api//#read-more" role="button">Read more <i class="fa fa-arrow-circle-right"></i></a>
   </p>
   
    <!-- <p>On a mission to create a ruby gem to return realtime stock data to the user, I was confronted with a dilemma: how can I attain stock data from the internet and displaying it in a formatted table within my gem? With the help of Yahoo! Finances incredibly convenient API, this process was made exceptionally easy. If used correctly, this API would return realtime stock data within a csv file—all I had to do was properly assemble the URL.</p>

<p>To accomplish this I needed to input information into two positions of the base URL: the stock tickers position and the tags position. The stock tickers position (represented as <code>{STOCKS}</code> in the below URL) contains the stock tickers that you want to look up joined together by an addition sign (<code>+</code>). So, if the user wanted to look up Apple’s and Google’s stock, the URL in the stock tickers position would read: <code>AAPL+GOOG</code>.</p>

<blockquote>
  <p>Base URL: “http://finance.yahoo.com/d/quotes.csv?s=<code>{STOCKS}</code>&amp;f=<code>{TAGS}</code>”</p>
</blockquote>

<p>The second position that is required to be populated was the tags position (represented by <code>{TAGS}</code> in the above URL). Tags are just characters that symbolize different descriptions that, when included, return information relating to a stock; so, if you include an “n” tag it displays the stocks name, an “a” tag displays the stocks asking price, a “t8” tag displays the stocks 1 Year Target Price (you get the idea). Continuing with our example, if the user wanted to look up the name, earnings per share, and the 52 week high for Apple’s and Google’s stock, we would include the “n”, “e”, and “k” tags in the tags position of the base URL. However, when we add the tags to the URL we concatenate them together, so the end result would be ”nek.”</p>

<p>Below is the final URL of the aforementioned example that will return a csv file that contains the specific information that we requested.</p>

<blockquote>
  <p>http://finance.yahoo.com/d/quotes.csv?s=AAPL+GOOG&amp;f=nek</p>
</blockquote>
 -->
  </div><!-- /.entry-content -->
</article><!-- /.hentry -->



<div class="pagination">
  <ul class="inline-list">
    
    
      
        <li><a href="http://franknowinski.github.io" class="btn">Previous</a></li>
      
    

    
    
      <li><a href="http://franknowinski.github.io">1</a></li>
    

    
    

    
    
    

    

    
    

    
      <li><strong class="current-page">2</strong></li>
    

    
    
  </ul>
</div>


</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2016 Frank Nowisnki.</span>

   <!-- Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="https://mademistakes.com/work/hpstr-jekyll-theme/" rel="nofollow">HPSTR Theme</a>.</span> -->

  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://franknowinski.github.io/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://franknowinski.github.io/assets/js/scripts.min.js"></script>



          

</body>
</html>